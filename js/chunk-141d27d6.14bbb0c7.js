(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-141d27d6"],{"0b3f":function(t,a,s){"use strict";var r=s("2133"),e=s.n(r);e.a},2133:function(t,a,s){},"5dcb":function(t,a,s){"use strict";s.r(a);var r=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{staticClass:"mainContent"},[r("Alert"),r("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[r("img",{attrs:{src:s("ed22"),alt:"loading"}})]),r("Header"),r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb "}},[r("ol",{staticClass:"breadcrumb mb-3 p-0 bg-transparent"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{staticClass:"breadcrumb-link",attrs:{to:{name:"Index"}}},[t._v("首頁")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{staticClass:"breadcrumb-link",attrs:{to:{name:"Products"}}},[t._v("創意巧克力")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(t._s(t.product.title))])])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-4"},[r("h3",{staticClass:"mb-4 productTitle"},[t._v(t._s(t.product.title))]),r("p",{staticClass:"mb-4 productPrice"},[t.product.origin_price!==t.product.price?r("span",{staticClass:"origin_price mr-2"},[t._v("市價:"+t._s(t._f("currency")(t.product.origin_price)))]):t._e(),t._v("網路價："),r("span",{staticClass:"price"},[t._v(t._s(t._f("currency")(t.product.price)))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"form-control mb-4",on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.product,"num",a.target.multiple?s:s[0])}}},t._l(10,(function(a){return r("option",{key:a,domProps:{value:a}},[t._v("選購 "+t._s(a)+" "+t._s(t.product.unit))])})),0),r("button",{staticClass:"btn btn-primary btn-block mb-4",on:{click:function(a){return t.addToCart(t.product.id,t.product.num)}}},[t._v("加入購物車"),t.status.addToCartIcon?r("i",{staticClass:"fas fa-spinner fa-spin ml-2"}):t._e()])]),r("div",{staticClass:"col-md-8"},[r("img",{staticClass:"img img-fluid mb-4",attrs:{src:""+t.product.imageUrl,alt:""+t.product.title}}),r("div",{staticClass:"jumbotron"},[t._v(" "+t._s(t.product.discription)+" ")])])])]),r("Cart",{attrs:{cart:t.carts},on:{emitDelete:t.deleteItem}})],1)},e=[],c=s("56a6"),i=s("0418"),o=s("b3b1"),n={name:"product",data:function(){return{pageName:"系列產品",product:{},carts:[],isLoading:!1,status:{addToCartIcon:!1}}},components:{Header:i["a"],Cart:o["a"],Alert:c["a"]},methods:{getProduct:function(){var t=this,a=t.$route.params.id,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("auroratour","/product/").concat(a);t.isLoading=!0,t.$http.get(s).then((function(a){t.isLoading=!1,t.product=a.data.product,t.product.num=1}))},getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("auroratour","/cart");t.$http.get(a).then((function(a){t.carts=a.data.data.carts}))},addToCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=this,r="".concat("https://vue-course-api.hexschool.io","/api/").concat("auroratour","/cart"),e={product_id:t,qty:a};s.status.addToCartIcon=!0,s.$http.post(r,{data:e}).then((function(t){t.data.success?(s.getCart(),s.status.addToCartIcon=!1,s.$bus.$emit("message:push",t.data.message,"primary")):s.$bus.$emit("message:push",t.data.message,"danger")}))},deleteItem:function(t){var a=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("auroratour","/cart/").concat(t);a.isLoading=!0,a.axios.delete(s).then((function(t){t.data.success?(a.getCart(),a.isLoading=!1,a.$bus.$emit("message:push",t.data.message,"orange")):a.$bus.$emit("message:push",t.data.message,"danger")}))}},created:function(){this.getProduct(),this.getCart()}},u=n,d=(s("0b3f"),s("2877")),l=Object(d["a"])(u,r,e,!1,null,"1aa07bc7",null);a["default"]=l.exports}}]);
//# sourceMappingURL=chunk-141d27d6.14bbb0c7.js.map