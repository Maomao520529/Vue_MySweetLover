(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73a9c610"],{"5dcb":function(t,a,r){"use strict";r.r(a);var c=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{staticClass:"mainContent"},[r("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[r("Circle4")],1),r("Header"),r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb "}},[r("ol",{staticClass:"breadcrumb mb-3 p-0 bg-transparent"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{staticClass:"breadcrumb-link",attrs:{to:{name:"Index"}}},[t._v("首頁")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{staticClass:"breadcrumb-link",attrs:{to:{name:"Products"}}},[t._v("創意巧克力")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(t._s(t.product.title))])])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-4"},[r("h3",{staticClass:"mb-4 productTitle"},[t._v(t._s(t.product.title))]),r("p",{staticClass:"mb-4 productPrice"},[t.product.origin_price!==t.product.price?r("span",{staticClass:"origin_price mr-2"},[t._v("市價:"+t._s(t._f("currency")(t.product.origin_price)))]):t._e(),t._v("網路價："),r("span",{staticClass:"price"},[t._v(t._s(t._f("currency")(t.product.price)))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"form-control mb-4",on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.product,"num",a.target.multiple?r:r[0])}}},t._l(10,(function(a){return r("option",{key:a,domProps:{value:a}},[t._v("選購 "+t._s(a)+" "+t._s(t.product.unit))])})),0),r("button",{staticClass:"btn btn-primary btn-block mb-4",on:{click:function(a){return t.addToCart(t.product.id,t.product.num)}}},[t._v("加入購物車"),t.status.addToCartIcon?r("i",{staticClass:"fas fa-spinner fa-spin ml-2"}):t._e()])]),r("div",{staticClass:"col-md-8"},[r("img",{staticClass:"img img-fluid mb-4",attrs:{src:""+t.product.imageUrl,alt:""+t.product.title}}),r("div",{staticClass:"jumbotron"},[t._v(" "+t._s(t.product.discription)+" ")])])])]),r("Cart",{attrs:{cart:t.carts},on:{emitDelete:t.deleteItem}}),r("Footer")],1)},o=[],i=r("d58b"),e=r("0418"),s=r("fd2d"),n=r("b3b1"),u={name:"product",data:function(){return{pageName:"系列產品",product:{},carts:[],isLoading:!1,status:{addToCartIcon:!1}}},components:{Circle4:i["a"],Header:e["a"],Footer:s["a"],Cart:n["a"]},methods:{getProduct:function(){var t=this,a=t.$route.params.id,r="".concat("https://vue-course-api.hexschool.io","/api/").concat("auroratour","/product/").concat(a);t.isLoading=!0,t.$http.get(r).then((function(a){t.isLoading=!1,t.product=a.data.product,t.product.num=1}))},getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("auroratour","/cart");t.$http.get(a).then((function(a){t.carts=a.data.data.carts}))},addToCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this,c="".concat("https://vue-course-api.hexschool.io","/api/").concat("auroratour","/cart"),o={product_id:t,qty:a};r.status.addToCartIcon=!0,r.$http.post(c,{data:o}).then((function(t){r.getCart(),r.status.addToCartIcon=!1}))},deleteItem:function(t){var a=this,r="".concat("https://vue-course-api.hexschool.io","/api/").concat("auroratour","/cart/").concat(t);a.isLoading=!0,a.$http.delete(r).then((function(t){a.getCart(),a.isLoading=!1}))}},created:function(){this.getProduct(),this.getCart()}},d=u,l=(r("a143"),r("2877")),p=Object(l["a"])(d,c,o,!1,null,"fcd2f05a",null);a["default"]=p.exports},a143:function(t,a,r){"use strict";var c=r("a5f6"),o=r.n(c);o.a},a5f6:function(t,a,r){}}]);
//# sourceMappingURL=chunk-73a9c610.d9588433.js.map