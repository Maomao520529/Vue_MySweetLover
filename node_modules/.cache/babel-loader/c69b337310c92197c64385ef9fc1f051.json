{"remainingRequest":"D:\\作品集\\Vue_MySweetLover\\node_modules\\babel-loader\\lib\\index.js!D:\\作品集\\Vue_MySweetLover\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\作品集\\Vue_MySweetLover\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\作品集\\Vue_MySweetLover\\src\\views\\frontEnd\\Product.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\作品集\\Vue_MySweetLover\\src\\views\\frontEnd\\Product.vue","mtime":1583937241767},{"path":"D:\\作品集\\Vue_MySweetLover\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\作品集\\Vue_MySweetLover\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\作品集\\Vue_MySweetLover\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\作品集\\Vue_MySweetLover\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEFsZXJ0IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQWxlcnRNZXNzYWdlJzsKaW1wb3J0IEhlYWRlciBmcm9tICcuLi8uLi9jb21wb25lbnRzL0hlYWRlcic7CmltcG9ydCBDYXJ0IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQ2FydCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAncHJvZHVjdCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhZ2VOYW1lOiAn57O75YiX55Si5ZOBJywKICAgICAgcHJvZHVjdDoge30sCiAgICAgIGNhcnRzOiBbXSwKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgc3RhdHVzOiB7CiAgICAgICAgYWRkVG9DYXJ0SWNvbjogZmFsc2UKICAgICAgfQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEhlYWRlcjogSGVhZGVyLAogICAgQ2FydDogQ2FydCwKICAgIEFsZXJ0OiBBbGVydAogIH0sCiAgbWV0aG9kczogewogICAgZ2V0UHJvZHVjdDogZnVuY3Rpb24gZ2V0UHJvZHVjdCgpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdmFyIHByb2R1Y3RJRCA9IHZtLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgIHZhciBhcGkgPSAiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElQQVRILCAiL2FwaS8iKS5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9DVVNUT01QQVRILCAiL3Byb2R1Y3QvIikuY29uY2F0KHByb2R1Y3RJRCk7CiAgICAgIHZtLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIHZtLiRodHRwLmdldChhcGkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS5wcm9kdWN0KTsKICAgICAgICB2bS5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICB2bS5wcm9kdWN0ID0gcmVzcG9uc2UuZGF0YS5wcm9kdWN0OyAvLyDmlbjph4/poJDoqK3lgLzngroxCgogICAgICAgIHZtLnByb2R1Y3QubnVtID0gMTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0Q2FydDogZnVuY3Rpb24gZ2V0Q2FydCgpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdmFyIGFwaSA9ICIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX0FQSVBBVEgsICIvYXBpLyIpLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX0NVU1RPTVBBVEgsICIvY2FydCIpOwogICAgICB2bS4kaHR0cC5nZXQoYXBpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEuZGF0YS5jYXJ0cyk7CiAgICAgICAgdm0uY2FydHMgPSByZXNwb25zZS5kYXRhLmRhdGEuY2FydHM7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZFRvQ2FydDogZnVuY3Rpb24gYWRkVG9DYXJ0KGlkKSB7CiAgICAgIHZhciBxdHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZhciBhcGkgPSAiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElQQVRILCAiL2FwaS8iKS5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9DVVNUT01QQVRILCAiL2NhcnQiKTsKICAgICAgdmFyIGNhcnQgPSB7CiAgICAgICAgcHJvZHVjdF9pZDogaWQsCiAgICAgICAgcXR5OiBxdHkKICAgICAgfTsKICAgICAgdm0uc3RhdHVzLmFkZFRvQ2FydEljb24gPSB0cnVlOwogICAgICB2bS4kaHR0cC5wb3N0KGFwaSwgewogICAgICAgIGRhdGE6IGNhcnQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgIHZtLmdldENhcnQoKTsKICAgICAgICAgIHZtLnN0YXR1cy5hZGRUb0NhcnRJY29uID0gZmFsc2U7IC8vIHZtLmlzTG9hZGluZyA9IGZhbHNlCgogICAgICAgICAgdm0uJGJ1cy4kZW1pdCgnbWVzc2FnZTpwdXNoJywgcmVzcG9uc2UuZGF0YS5tZXNzYWdlLCAncHJpbWFyeScpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2bS4kYnVzLiRlbWl0KCdtZXNzYWdlOnB1c2gnLCByZXNwb25zZS5kYXRhLm1lc3NhZ2UsICdkYW5nZXInKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZUl0ZW06IGZ1bmN0aW9uIGRlbGV0ZUl0ZW0oaWQpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdmFyIGFwaSA9ICIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX0FQSVBBVEgsICIvYXBpLyIpLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX0NVU1RPTVBBVEgsICIvY2FydC8iKS5jb25jYXQoaWQpOwogICAgICB2bS5pc0xvYWRpbmcgPSB0cnVlOwogICAgICB2bS5heGlvcy5kZWxldGUoYXBpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgIHZtLmdldENhcnQoKTsKICAgICAgICAgIHZtLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgdm0uJGJ1cy4kZW1pdCgnbWVzc2FnZTpwdXNoJywgcmVzcG9uc2UuZGF0YS5tZXNzYWdlLCAnb3JhbmdlJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZtLiRidXMuJGVtaXQoJ21lc3NhZ2U6cHVzaCcsIHJlc3BvbnNlLmRhdGEubWVzc2FnZSwgJ2RhbmdlcicpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRQcm9kdWN0KCk7CiAgICB0aGlzLmdldENhcnQoKTsKICB9Cn07"},{"version":3,"sources":["Product.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"mainContent\">\n    <Alert/>\n    <loading :active.sync=\"isLoading\">\n        <img src=\"../../assets/images/load.gif\" alt=\"loading\">\n    </loading>\n    <!-- Start Header -->\n    <Header/>\n    <!-- End Header -->\n\n    <!-- Start Content -->\n    <div class=\"container\">\n       <nav aria-label=\"breadcrumb \">\n          <ol class=\"breadcrumb mb-3 p-0 bg-transparent\">\n            <li class=\"breadcrumb-item\">\n              <router-link :to=\"{name:'Index'}\" class=\"breadcrumb-link\">首頁</router-link>\n            </li>\n            <li class=\"breadcrumb-item\">\n              <router-link :to=\"{name:'Products'}\" class=\"breadcrumb-link\">創意巧克力</router-link>\n            </li>\n            <li class=\"breadcrumb-item active\" aria-current=\"page\">{{product.title}}</li>\n          </ol>\n        </nav>\n      <div class=\"row\">\n        <div class=\"col-md-4\">\n          <h3 class=\"mb-4 productTitle\">{{product.title}}</h3>\n          <p class=\"mb-4 productPrice\"><span class=\"origin_price mr-2\" v-if=\"product.origin_price !== product.price\">市價:{{product.origin_price | currency}}</span>網路價：<span class=\"price\">{{product.price | currency}}</span></p>\n          <select class=\"form-control mb-4\" v-model=\"product.num\">\n            <option :value=\"num\" v-for=\"num in 10\" :key=\"num\">選購 {{num}} {{product.unit}}</option>\n          </select>\n          <button class=\"btn btn-primary btn-block mb-4\" @click=\"addToCart(product.id, product.num)\">加入購物車<i class=\"fas fa-spinner fa-spin ml-2\" v-if=\"status.addToCartIcon\"></i></button>\n        </div>\n        <div class=\"col-md-8\">\n          <img :src=\"`${product.imageUrl}`\" :alt=\"`${product.title}`\" class=\"img img-fluid mb-4\">\n          <div class=\"jumbotron\">\n            {{product.discription}}\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- End Content -->\n\n    <!-- cart Icon -->\n    <Cart :cart=\"carts\" @emitDelete=\"deleteItem\"></Cart>\n    <!---->\n  </div>\n</template>\n\n<script>\nimport Alert from '../../components/AlertMessage'\nimport Header from '../../components/Header'\nimport Cart from '../../components/Cart'\n\nexport default {\n  name: 'product',\n  data () {\n    return {\n      pageName: '系列產品',\n      product: {},\n      carts: [],\n      isLoading: false,\n      status: {\n        addToCartIcon: false\n      }\n    }\n  },\n  components: {\n    Header,\n    Cart,\n    Alert\n  },\n  methods: {\n    getProduct () {\n      const vm = this\n      const productID = vm.$route.params.id\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/product/${productID}`\n      vm.isLoading = true\n      vm.$http.get(api).then(response => {\n        console.log(response.data.product)\n        vm.isLoading = false\n        vm.product = response.data.product\n        // 數量預設值為1\n        vm.product.num = 1\n      })\n    },\n    getCart () {\n      const vm = this\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`\n      vm.$http.get(api).then((response) => {\n        console.log(response.data.data.carts)\n        vm.carts = response.data.data.carts\n      })\n    },\n    addToCart (id, qty = 1) {\n      const vm = this\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`\n      const cart = {\n        product_id: id,\n        qty: qty\n      }\n      vm.status.addToCartIcon = true\n      vm.$http.post(api, { data: cart }).then(response => {\n        console.log(response)\n        if (response.data.success) {\n          console.log(response)\n          vm.getCart()\n          vm.status.addToCartIcon = false\n          // vm.isLoading = false\n          vm.$bus.$emit('message:push', response.data.message, 'primary')\n        } else {\n          vm.$bus.$emit('message:push', response.data.message, 'danger')\n        }\n      })\n    },\n    deleteItem (id) {\n      const vm = this\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart/${id}`\n      vm.isLoading = true\n      vm.axios.delete(api).then((response) => {\n        if (response.data.success) {\n          vm.getCart()\n          vm.isLoading = false\n          vm.$bus.$emit('message:push', response.data.message, 'orange')\n        } else {\n          vm.$bus.$emit('message:push', response.data.message, 'danger')\n        }\n      })\n    }\n  },\n  created () {\n    this.getProduct()\n    this.getCart()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../assets/all.scss\";\n\n.container {\n  padding-top: 8vh;\n}\n.breadcrumb-link:focus,\n.breadcrumb-link:hover,\n.breadcrumb-link:active{\n  text-decoration: none;\n}\n.jumbotron {\n  background-color: rgba(98, 171, 240, 0.288);\n}\n.mainContent{\n  height: 100vh;\n}\n.productTitle{\n  font-weight: bold;\n  font-size: 24px;\n  line-height: 24px;\n}\n.productPrice{\n  font-size: 16px;\n  line-height: 16px;\n  .price{\n    font-size: 20px;\n    font-weight: bold;\n  }\n  .origin_price{\n    text-decoration: line-through;\n    color: #cccccc;\n  }\n}\n</style>\n"],"sourceRoot":"src/views/frontEnd"}]}