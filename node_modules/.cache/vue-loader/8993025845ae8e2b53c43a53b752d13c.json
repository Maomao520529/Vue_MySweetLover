{"remainingRequest":"D:\\Maomao File\\新增資料夾 (2)\\Vue_EC-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Maomao File\\新增資料夾 (2)\\Vue_EC-master\\src\\views\\frontEnd\\Product.vue?vue&type=style&index=0&id=76c7ce68&lang=scss&scoped=true&","dependencies":[{"path":"D:\\Maomao File\\新增資料夾 (2)\\Vue_EC-master\\src\\views\\frontEnd\\Product.vue","mtime":1581188248859},{"path":"D:\\Maomao File\\新增資料夾 (2)\\Vue_EC-master\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Maomao File\\新增資料夾 (2)\\Vue_EC-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\Maomao File\\新增資料夾 (2)\\Vue_EC-master\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\Maomao File\\新增資料夾 (2)\\Vue_EC-master\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Maomao File\\新增資料夾 (2)\\Vue_EC-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Maomao File\\新增資料夾 (2)\\Vue_EC-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKQGltcG9ydCAiLi4vLi4vYXNzZXRzL2FsbC5zY3NzIjsKCi5tYWluQ29udGVudHsKICBoZWlnaHQ6IDEwMHZoOwp9Ci5wcm9kdWN0VGl0bGV7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgZm9udC1zaXplOiAyNHB4OwogIGxpbmUtaGVpZ2h0OiAyNHB4Owp9Ci5wcm9kdWN0UHJpY2V7CiAgZm9udC1zaXplOiAxNnB4OwogIGxpbmUtaGVpZ2h0OiAxNnB4OwogIC5wcmljZXsKICAgIGZvbnQtc2l6ZTogMjBweDsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogIH0KICAub3JpZ2luX3ByaWNlewogICAgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7CiAgICBjb2xvcjogI2NjY2NjYzsKICB9Cn0K"},{"version":3,"sources":["Product.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Product.vue","sourceRoot":"src/views/frontEnd","sourcesContent":["<template>\n  <div class=\"mainContent\">\n    <loading :active.sync=\"isLoading\">\n      <Circle4></Circle4>\n    </loading>\n    <!-- Start Header -->\n    <Header/>\n    <!-- End Header -->\n\n    <!-- Start Content -->\n    <div class=\"container\">\n      <nav aria-label=\"breadcrumb\">\n        <ol class=\"breadcrumb my-2 p-0 bg-transparent\">\n          <li class=\"breadcrumb-item\"><router-link to=\"/\">首頁</router-link></li>\n          <li class=\"breadcrumb-item\"><router-link to=\"/products\">創意巧克力</router-link></li>\n          <li class=\"breadcrumb-item active\" aria-current=\"page\">{{product.title}}</li>\n        </ol>\n      </nav>\n      <div class=\"row\">\n        <div class=\"col-md-4\">\n          <h3 class=\"mb-4 productTitle\">{{product.title}}</h3>\n          <p class=\"mb-4 productPrice\"><span class=\"origin_price mr-2\" v-if=\"product.origin_price !== product.price\">市價:{{product.origin_price | currency}}</span>網路價：<span class=\"price\">{{product.price | currency}}</span></p>\n          <select class=\"form-control mb-4\" v-model=\"product.num\">\n            <option :value=\"num\" v-for=\"num in 10\" :key=\"num\">選購 {{num}} {{product.unit}}</option>\n          </select>\n          <button class=\"btn btn-primary btn-block\" @click=\"addToCart(product.id, product.num)\">加入購物車<i class=\"fas fa-spinner fa-spin ml-2\" v-if=\"status.addToCartIcon\"></i></button>\n        </div>\n        <div class=\"col-md-8\">\n          <img :src=\"`${product.imageUrl}`\" :alt=\"`${product.title}`\" class=\"img img-fluid mb-4\">\n          <div class=\"jumbotron\">\n            {{product.discription}}\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- End Content -->\n\n    <!-- cart Icon -->\n    <Cart :cart=\"carts\" @emitDelete=\"deleteItem\"></Cart>\n    <!---->\n\n    <!-- Start Footer -->\n    <Footer/>\n    <!-- End Footer -->\n  </div>\n</template>\n\n<script>\nimport { Circle4 } from 'vue-loading-spinner'\nimport Header from '../../components/Header'\nimport Footer from '../../components/Footer'\nimport Cart from '../../components/Cart'\n\nexport default {\n  name: 'product',\n  data () {\n    return {\n      pageName: '系列產品',\n      product: {},\n      carts: [],\n      isLoading: false,\n      status: {\n        addToCartIcon: false\n      }\n    }\n  },\n  components: {\n    Circle4,\n    Header,\n    Footer,\n    Cart\n  },\n  methods: {\n    getProduct () {\n      const vm = this\n      const productID = vm.$route.params.id\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/product/${productID}`\n      vm.isLoading = true\n      vm.$http.get(api).then(response => {\n        console.log(response.data.product)\n        vm.isLoading = false\n        vm.product = response.data.product\n        // 數量預設值為1\n        vm.product.num = 1\n      })\n    },\n    getCart () {\n      const vm = this\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`\n      vm.$http.get(api).then((response) => {\n        console.log(response.data.data.carts)\n        vm.carts = response.data.data.carts\n      })\n    },\n    addToCart (id, qty = 1) {\n      const vm = this\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`\n      const cart = {\n        product_id: id,\n        qty: qty\n      }\n      vm.status.addToCartIcon = true\n      vm.$http.post(api, { data: cart }).then(response => {\n        console.log(response)\n        vm.getCart()\n        vm.status.addToCartIcon = false\n      })\n    },\n    deleteItem (id) {\n      const vm = this\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart/${id}`\n      vm.isLoading = true\n      vm.$http.delete(api).then((response) => {\n        vm.getCart()\n        vm.isLoading = false\n      })\n    }\n  },\n  created () {\n    this.getProduct()\n    this.getCart()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../assets/all.scss\";\n\n.mainContent{\n  height: 100vh;\n}\n.productTitle{\n  font-weight: bold;\n  font-size: 24px;\n  line-height: 24px;\n}\n.productPrice{\n  font-size: 16px;\n  line-height: 16px;\n  .price{\n    font-size: 20px;\n    font-weight: bold;\n  }\n  .origin_price{\n    text-decoration: line-through;\n    color: #cccccc;\n  }\n}\n</style>\n"]}]}