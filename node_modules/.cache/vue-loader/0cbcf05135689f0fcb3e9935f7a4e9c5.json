{"remainingRequest":"D:\\作品集\\Vue_MySweetLover\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\作品集\\Vue_MySweetLover\\src\\views\\frontEnd\\CustomerCheckout.vue?vue&type=style&index=0&id=2a1a2bc0&lang=scss&scoped=true&","dependencies":[{"path":"D:\\作品集\\Vue_MySweetLover\\src\\views\\frontEnd\\CustomerCheckout.vue","mtime":1583916868052},{"path":"D:\\作品集\\Vue_MySweetLover\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\作品集\\Vue_MySweetLover\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\作品集\\Vue_MySweetLover\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\作品集\\Vue_MySweetLover\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\作品集\\Vue_MySweetLover\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\作品集\\Vue_MySweetLover\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgIi4uLy4uL2Fzc2V0cy9hbGwuc2NzcyI7CgouY29udGFpbmVyIHsKICBwYWRkaW5nLXRvcDogOXZoOwp9Cgouc3RlcHsKICAgIHdpZHRoOiAxMDAlOwogICAgcGFkZGluZzogMTBweCAwOwogICAgZm9udC1zaXplOiAxNnB4OwogICAgbGluZS1oZWlnaHQ6IDIwcHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBjb2xvcjogJHByaW1hcnk7CiAgICBib3JkZXI6IDFweCBzb2xpZCAkcHJpbWFyeTsKICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7CiAgICAmLmFjdGl2ZXsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkcHJpbWFyeTsKICAgICAgICBjb2xvcjogd2hpdGUKICAgIH0KfQojYWNjb3JkaW9uewogICAgd2lkdGg6IDEwMCU7CiAgICAuYnRuLWxpbmssCiAgICAuYnRuLWxpbms6aG92ZXJ7CiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgfQogICAgLnRvdGFsUHJpY2V7CiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICB9Cn0KdGV4dGFyZWF7CiAgcmVzaXplOiBub25lOwp9Ci5jaGVja291dEZpbmFsVG90YWx7CiAgZm9udC1zaXplOiAyNHB4OwogIGxpbmUtaGVpZ2h0OiAyNHB4OwogIGZvbnQtd2VpZ2h0OiBib2xkOwogIGNvbG9yOiAkZGFuZ2VyOwp9Ci5tZW1iZXJUaXRsZXsKICBmb250LXNpemU6IDI2cHg7CiAgbGluZS1oZWlnaHQ6IDI2cHg7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgY29sb3I6ICRibGFjazsKfQo="},{"version":3,"sources":["CustomerCheckout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiJA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CustomerCheckout.vue","sourceRoot":"src/views/frontEnd","sourcesContent":["<template>\n  <div>\n    <loading :active.sync=\"isLoading\">\n      <img src=\"../../assets/images/load.gif\" alt=\"loading\">\n    </loading>\n    <!-- Start Header -->\n    <Header/>\n    <!-- End Header -->\n\n    <!-- Start Content -->\n    <div class=\"container mt-4\">\n        <div class=\"row mb-5\">\n            <div class=\"col-md-10 offset-md-1\">\n                <div class=\"row\">\n                    <div class=\"col-md-4 mb-2 mb-md-4\">\n                        <div class=\"step\">資料填寫</div>\n                    </div>\n                    <div class=\"col-md-4 mb-2 mb-md-4\">\n                        <div class=\"step active\">確認訂單</div>\n                    </div>\n                    <div class=\"col-md-4 mb-2 mb-md-4\">\n                        <div class=\"step\">完成</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-md-6 offset-md-3\">\n                <form @submit.prevent=\"payOrder\">\n                  <table class=\"table mb-5\">\n                    <thead>\n                      <tr>\n                        <td class=\"text-left\">品名</td>\n                        <td width=\"20%\" class=\"text-center\">數量</td>\n                        <td width=\"30%\" class=\"text-center\">單價</td>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <tr v-for=\"item in order.products\" :key=\"item.id\">\n                        <td class=\"text-left\">{{ item.product.title }}</td>\n                        <td class=\"text-center\">{{ item.qty }}/{{ item.product.unit }}</td>\n                        <td class=\"text-right\">{{ item.final_total | currency }}</td>\n                      </tr>\n                      <tr>\n                        <td colspan=\"2\" class=\"text-right checkoutFinalTotal\">總計</td>\n                        <td class=\"text-right checkoutFinalTotal\">{{ order.total | currency }}</td>\n                      </tr>\n                    </tbody>\n                  </table>\n                  <table class=\"table mb-5\">\n                    <tr>\n                      <td colspan=\"2\" class=\"text-center border-0 memberTitle\">會員資料核對</td>\n                    </tr>\n                    <tr>\n                      <td width=\"20%\">Email</td>\n                      <td>{{ order.user.email }}</td>\n                    </tr>\n                    <tr>\n                      <td width=\"20%\">姓名</td>\n                      <td>{{ order.user.name }}</td>\n                    </tr>\n                    <tr>\n                      <td width=\"20%\">電話</td>\n                      <td>{{ order.user.tel }}</td>\n                    </tr>\n                    <tr>\n                      <td width=\"20%\">地址</td>\n                      <td>{{ order.user.address }}</td>\n                    </tr>\n                    <tr>\n                      <td width=\"20%\">付款狀態</td>\n                      <td>\n                        <span v-if=\"!order.is_paid\">尚未付款</span>\n                        <span v-else class=\"text-success\">付款完成</span>\n                      </td>\n                    </tr>\n                  </table>\n                  <div class=\"text-right\">\n                    <button type=\"submit\" class=\"btn btn-danger mb-4\" v-if=\"order.is_paid === false\">確認付款去</button>\n                  </div>\n                </form>\n            </div>\n        </div>\n    </div>\n    <!-- End Content -->\n\n    <!-- Start Footer -->\n    <Footer/>\n    <!-- End Footer -->\n  </div>\n</template>\n\n<script>\nimport Header from '../../components/Header'\nimport Footer from '../../components/Footer'\n\nexport default {\n  name: 'customerCheckuot',\n  data () {\n    return {\n      isLoading: false,\n      order: {\n        user: {}\n      },\n      orderId: ''\n    }\n  },\n  components: {\n    Header,\n    Footer\n  },\n  methods: {\n    getOrder () {\n      const vm = this\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/order/${vm.orderId}`\n      vm.isLoading = true\n      vm.$http.get(api).then((response) => {\n        console.log(response)\n        vm.order = response.data.order\n        vm.isLoading = false\n      })\n    },\n    payOrder () {\n      const vm = this\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/pay/${vm.orderId}`\n      vm.isLoading = true\n      vm.$http.post(api).then((response) => {\n        if (response.data.success) {\n          console.log(response)\n          vm.$router.push(`/payment_success/${vm.orderId}`)\n        } else {\n          console.log('結帳失敗')\n        }\n        vm.isLoading = false\n      })\n    }\n  },\n  created () {\n    this.orderId = this.$route.params.orderId\n    this.getOrder()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../assets/all.scss\";\n\n.container {\n  padding-top: 9vh;\n}\n\n.step{\n    width: 100%;\n    padding: 10px 0;\n    font-size: 16px;\n    line-height: 20px;\n    text-align: center;\n    color: $primary;\n    border: 1px solid $primary;\n    border-radius: 20px;\n    &.active{\n        background-color: $primary;\n        color: white\n    }\n}\n#accordion{\n    width: 100%;\n    .btn-link,\n    .btn-link:hover{\n        text-decoration: none;\n    }\n    .totalPrice{\n        font-weight: bold;\n    }\n}\ntextarea{\n  resize: none;\n}\n.checkoutFinalTotal{\n  font-size: 24px;\n  line-height: 24px;\n  font-weight: bold;\n  color: $danger;\n}\n.memberTitle{\n  font-size: 26px;\n  line-height: 26px;\n  font-weight: bold;\n  color: $black;\n}\n</style>\n"]}]}