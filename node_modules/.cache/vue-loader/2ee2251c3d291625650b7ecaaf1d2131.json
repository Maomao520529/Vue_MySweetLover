{"remainingRequest":"D:\\作品集\\Vue_MySweetLover\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\作品集\\Vue_MySweetLover\\src\\views\\frontEnd\\Product.vue?vue&type=style&index=0&id=76c7ce68&lang=scss&scoped=true&","dependencies":[{"path":"D:\\作品集\\Vue_MySweetLover\\src\\views\\frontEnd\\Product.vue","mtime":1583937241767},{"path":"D:\\作品集\\Vue_MySweetLover\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\作品集\\Vue_MySweetLover\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\作品集\\Vue_MySweetLover\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\作品集\\Vue_MySweetLover\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\作品集\\Vue_MySweetLover\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\作品集\\Vue_MySweetLover\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0ICIuLi8uLi9hc3NldHMvYWxsLnNjc3MiOwoKLmNvbnRhaW5lciB7CiAgcGFkZGluZy10b3A6IDh2aDsKfQouYnJlYWRjcnVtYi1saW5rOmZvY3VzLAouYnJlYWRjcnVtYi1saW5rOmhvdmVyLAouYnJlYWRjcnVtYi1saW5rOmFjdGl2ZXsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7Cn0KLmp1bWJvdHJvbiB7CiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg5OCwgMTcxLCAyNDAsIDAuMjg4KTsKfQoubWFpbkNvbnRlbnR7CiAgaGVpZ2h0OiAxMDB2aDsKfQoucHJvZHVjdFRpdGxlewogIGZvbnQtd2VpZ2h0OiBib2xkOwogIGZvbnQtc2l6ZTogMjRweDsKICBsaW5lLWhlaWdodDogMjRweDsKfQoucHJvZHVjdFByaWNlewogIGZvbnQtc2l6ZTogMTZweDsKICBsaW5lLWhlaWdodDogMTZweDsKICAucHJpY2V7CiAgICBmb250LXNpemU6IDIwcHg7CiAgICBmb250LXdlaWdodDogYm9sZDsKICB9CiAgLm9yaWdpbl9wcmljZXsKICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoOwogICAgY29sb3I6ICNjY2NjY2M7CiAgfQp9Cg=="},{"version":3,"sources":["Product.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Product.vue","sourceRoot":"src/views/frontEnd","sourcesContent":["<template>\n  <div class=\"mainContent\">\n    <Alert/>\n    <loading :active.sync=\"isLoading\">\n        <img src=\"../../assets/images/load.gif\" alt=\"loading\">\n    </loading>\n    <!-- Start Header -->\n    <Header/>\n    <!-- End Header -->\n\n    <!-- Start Content -->\n    <div class=\"container\">\n       <nav aria-label=\"breadcrumb \">\n          <ol class=\"breadcrumb mb-3 p-0 bg-transparent\">\n            <li class=\"breadcrumb-item\">\n              <router-link :to=\"{name:'Index'}\" class=\"breadcrumb-link\">首頁</router-link>\n            </li>\n            <li class=\"breadcrumb-item\">\n              <router-link :to=\"{name:'Products'}\" class=\"breadcrumb-link\">創意巧克力</router-link>\n            </li>\n            <li class=\"breadcrumb-item active\" aria-current=\"page\">{{product.title}}</li>\n          </ol>\n        </nav>\n      <div class=\"row\">\n        <div class=\"col-md-4\">\n          <h3 class=\"mb-4 productTitle\">{{product.title}}</h3>\n          <p class=\"mb-4 productPrice\"><span class=\"origin_price mr-2\" v-if=\"product.origin_price !== product.price\">市價:{{product.origin_price | currency}}</span>網路價：<span class=\"price\">{{product.price | currency}}</span></p>\n          <select class=\"form-control mb-4\" v-model=\"product.num\">\n            <option :value=\"num\" v-for=\"num in 10\" :key=\"num\">選購 {{num}} {{product.unit}}</option>\n          </select>\n          <button class=\"btn btn-primary btn-block mb-4\" @click=\"addToCart(product.id, product.num)\">加入購物車<i class=\"fas fa-spinner fa-spin ml-2\" v-if=\"status.addToCartIcon\"></i></button>\n        </div>\n        <div class=\"col-md-8\">\n          <img :src=\"`${product.imageUrl}`\" :alt=\"`${product.title}`\" class=\"img img-fluid mb-4\">\n          <div class=\"jumbotron\">\n            {{product.discription}}\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- End Content -->\n\n    <!-- cart Icon -->\n    <Cart :cart=\"carts\" @emitDelete=\"deleteItem\"></Cart>\n    <!---->\n  </div>\n</template>\n\n<script>\nimport Alert from '../../components/AlertMessage'\nimport Header from '../../components/Header'\nimport Cart from '../../components/Cart'\n\nexport default {\n  name: 'product',\n  data () {\n    return {\n      pageName: '系列產品',\n      product: {},\n      carts: [],\n      isLoading: false,\n      status: {\n        addToCartIcon: false\n      }\n    }\n  },\n  components: {\n    Header,\n    Cart,\n    Alert\n  },\n  methods: {\n    getProduct () {\n      const vm = this\n      const productID = vm.$route.params.id\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/product/${productID}`\n      vm.isLoading = true\n      vm.$http.get(api).then(response => {\n        console.log(response.data.product)\n        vm.isLoading = false\n        vm.product = response.data.product\n        // 數量預設值為1\n        vm.product.num = 1\n      })\n    },\n    getCart () {\n      const vm = this\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`\n      vm.$http.get(api).then((response) => {\n        console.log(response.data.data.carts)\n        vm.carts = response.data.data.carts\n      })\n    },\n    addToCart (id, qty = 1) {\n      const vm = this\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`\n      const cart = {\n        product_id: id,\n        qty: qty\n      }\n      vm.status.addToCartIcon = true\n      vm.$http.post(api, { data: cart }).then(response => {\n        console.log(response)\n        if (response.data.success) {\n          console.log(response)\n          vm.getCart()\n          vm.status.addToCartIcon = false\n          // vm.isLoading = false\n          vm.$bus.$emit('message:push', response.data.message, 'primary')\n        } else {\n          vm.$bus.$emit('message:push', response.data.message, 'danger')\n        }\n      })\n    },\n    deleteItem (id) {\n      const vm = this\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart/${id}`\n      vm.isLoading = true\n      vm.axios.delete(api).then((response) => {\n        if (response.data.success) {\n          vm.getCart()\n          vm.isLoading = false\n          vm.$bus.$emit('message:push', response.data.message, 'orange')\n        } else {\n          vm.$bus.$emit('message:push', response.data.message, 'danger')\n        }\n      })\n    }\n  },\n  created () {\n    this.getProduct()\n    this.getCart()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../assets/all.scss\";\n\n.container {\n  padding-top: 8vh;\n}\n.breadcrumb-link:focus,\n.breadcrumb-link:hover,\n.breadcrumb-link:active{\n  text-decoration: none;\n}\n.jumbotron {\n  background-color: rgba(98, 171, 240, 0.288);\n}\n.mainContent{\n  height: 100vh;\n}\n.productTitle{\n  font-weight: bold;\n  font-size: 24px;\n  line-height: 24px;\n}\n.productPrice{\n  font-size: 16px;\n  line-height: 16px;\n  .price{\n    font-size: 20px;\n    font-weight: bold;\n  }\n  .origin_price{\n    text-decoration: line-through;\n    color: #cccccc;\n  }\n}\n</style>\n"]}]}